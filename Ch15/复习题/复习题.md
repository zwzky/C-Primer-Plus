## 复习题

*1.将下列十进制数转化为二进制形式*

a. 3

b. 13

c. 59

d. 119

答：
a. 0000 0011
b. 0000 1101
c. 0011 1011
d. 0111 0111

*2. 将下列二进制值转化为十进制、八进制和十六进制形式*

a. 0001 0101

b. 0101 0101

c. 0100 1100

d. 1001 1101

答:十进制    八进制    十六进制

a.    21        025        0x15

b.   128        085        0x55

c.    44        054        0x2C

d.   157       0235        0x9D

*3.对下面的表达式求值，假设每个值都是8位：*

a. ~3 ~(0000 0011) 1111 1100 252

b. 3 & 6 (0000 0011) & (0000 0110) 0000 0010 2

c. 3 | 6 (0000 0011) | (0000 0110) 0000 0111 7

d. 1 | 6 (0000 0001) | (0000 0110) 0000 0111 7

e. 3 ^ 6 (0000 0011) ^ (0001 0110) 0000 0101 5

f. 7 >> 1 (0000 0111) >> 1 0000 0011 3

g. 7 << 2 (0000 0111) >> 2 0001 1100 28

*4.对下面的表达式求值，假设每个值都为8位：*

a. ~0 1111 1111 255

b. !0  1

c. 2 & 4 0000 0000 0

d. 2 && 4 1

e. 2 | 4 0000 0110 6

f. 2 || 4 1

g. 5 << 3 0010 1000 40

*5. 因为ASCII码只是用最后7位，所以有时需要用掩码关闭其他位，其相应的二进制掩码是什么？*

答：MASK = 0111 1111

*6. 程序清单15.2中，可以把下面的代码:*
```C
while (bits-- > 0)
{
    mask |= bitval;
    bitval <<= 1;
}
```
*替换为*
```C
while (bits-- > 0)
{
    mask += bitval;
    bitval  *= 2;
}
```
*程序照常工作。这是否意味着`*=2`等同于`<<=1`？`+=`是否等同于`|=`？*

答：*=2 等价于  <<1; |= 不等价于 +=。

*7.a. Tinkerbell计算机有一个硬件字节可读程序。该字节包含以下信息：*
| 位  | 含义                |
| ---- | --------------------- |
| 0到1 | 1.4MB软盘驱动器的数量 |
| 2    | 未使用             |
| 3~4  | CD-ROM驱动器数量 |
| 5    | 未使用           |
| 6~7  | 硬盘驱动器数量   |

*Tinkerbell和IBM PC一样，从右往左填充结构位字段。创建一个适合存放这些信息的位字段模板。*

*b.Klinkerbll与Tinkerbell类似，但是它是从左往右填充结构位字段。请为Klinkerbell创建一个相应的位字段模板。*

a.
```C
struct Tinkerbell {
      unsigned int diskdiver : 1
      unsigned int           : 2
      unsigned int cddriver  : 2
      unsigned int           : 1
      unsigned int harddriver: 2
};
```
b.
```C
struct Tinkerbell {
      unsigned int harddriver: 2
      unsigned int           : 1
      unsigned int cddriver  : 2
      unsigned int           : 2
      unsigned int diskdiver : 1
};
```
